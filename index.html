<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LS4YOU - Sortir de sa Zone de Confort</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@800;900&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --ls-red: #E63946;
            --ls-yellow: #FFB703;
            --ls-turquoise: #2EC4B6;
            --ls-dark: #1D3557;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: #FFFFFF;
            color: var(--ls-dark);
            min-height: 100vh;
        }

        h1, h2, h3 { font-family: 'Montserrat', sans-serif; font-weight: 900; }

        /* Style de la Cible Géométrique */
        .target-container {
            position: relative;
            width: 100%;
            max-width: 550px;
            aspect-ratio: 1 / 1;
            margin: auto;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .zone {
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            position: absolute;
            border: 4px dashed transparent;
        }

        .zone-panic {
            width: 100%;
            height: 100%;
            background-color: #fee2e2;
            z-index: 10;
        }

        .zone-learning {
            width: 70%;
            height: 70%;
            background-color: #ccfbf1;
            z-index: 20;
        }

        .zone-comfort {
            width: 40%;
            height: 40%;
            background-color: #fef9c3;
            z-index: 30;
            text-align: center;
        }

        .zone.active-drop {
            border-color: var(--ls-dark);
            filter: brightness(0.95);
            transform: scale(1.02);
        }

        /* Cartes d'actions */
        .action-card {
            cursor: grab;
            transition: all 0.2s ease;
            touch-action: none;
            user-select: none;
        }
        .action-card:active { cursor: grabbing; transform: scale(0.95); }
        .action-card.dragging { opacity: 0.5; }

        .placed-item {
            font-size: 9px;
            font-weight: 800;
            padding: 4px 8px;
            background: white;
            border-radius: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            position: absolute;
            pointer-events: none;
            text-align: center;
            max-width: 100px;
            animation: popIn 0.3s forwards;
        }

        @keyframes popIn {
            from { opacity: 0; transform: scale(0.5); }
            to { opacity: 1; transform: scale(1); }
        }

        .dot-grid {
            background-image: radial-gradient(var(--ls-dark) 1.5px, transparent 1.5px);
            background-size: 20px 20px;
            opacity: 0.05;
            position: absolute;
            inset: 0;
            z-index: -1;
        }

        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #f1f5f9; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body class="p-4 lg:p-8">

    <div class="dot-grid"></div>

    <header class="max-w-6xl mx-auto flex flex-col md:flex-row justify-between items-center mb-12 gap-6">
        <div class="flex items-center gap-4">
            <img src="https://www.lifeskills4youth.eu/wp-content/uploads/2024/07/LS4YOU_Logo_whiteback.jpg" alt="Logo LS4YOU" class="h-10">
            <div class="h-8 w-[2px] bg-slate-200"></div>
            <div>
                <h1 class="text-xl uppercase tracking-tighter leading-none">Diagnostic Zone de Confort</h1>
                <p class="text-[9px] font-black uppercase tracking-widest text-ls-turquoise">Insertion Sociale & Professionnelle</p>
            </div>
        </div>
        <div class="flex items-center gap-3 bg-slate-50 px-4 py-2 rounded-full border">
            <span class="text-[10px] font-bold uppercase text-slate-400">Progression :</span>
            <div class="w-32 h-2 bg-slate-200 rounded-full overflow-hidden">
                <div id="progress-bar" class="h-full bg-ls-turquoise transition-all duration-500" style="width: 0%"></div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto grid lg:grid-cols-2 gap-12 items-start">
        
        <!-- Colonne Gauche : La Cible -->
        <section class="order-2 lg:order-1 sticky top-8">
            <div class="target-container" id="target-container">
                <div id="panic" class="zone zone-panic" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" ondrop="handleDrop(event, 'panic')">
                    <span class="absolute top-6 font-black text-[10px] uppercase text-ls-red opacity-40">Zone de Panique</span>
                </div>
                <div id="learning" class="zone zone-learning" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" ondrop="handleDrop(event, 'learning')">
                    <span class="absolute top-4 font-black text-[10px] uppercase text-ls-turquoise opacity-60">Zone de Dépassement</span>
                </div>
                <div id="comfort" class="zone zone-comfort shadow-lg" ondragover="handleDragOver(event)" ondragleave="handleDragLeave(event)" ondrop="handleDrop(event, 'comfort')">
                    <span class="font-black text-[10px] uppercase text-ls-yellow leading-tight">Zone de<br>Confort</span>
                </div>
            </div>

            <div class="mt-8 flex justify-center gap-6">
                <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-full bg-ls-yellow"></div>
                    <span class="text-[10px] font-bold uppercase">Maîtrise</span>
                </div>
                <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-full bg-ls-turquoise"></div>
                    <span class="text-[10px] font-bold uppercase">Apprentissage</span>
                </div>
                <div class="flex items-center gap-2">
                    <div class="w-3 h-3 rounded-full bg-ls-red"></div>
                    <span class="text-[10px] font-bold uppercase">Inhibition</span>
                </div>
            </div>
        </section>

        <!-- Colonne Droite : Les Actions & Feedback -->
        <section class="order-1 lg:order-2 flex flex-col gap-6">
            <div class="bg-slate-50 p-8 rounded-[32px] border border-slate-100 relative overflow-hidden">
                <h2 class="text-2xl uppercase mb-2 relative z-10">Trier les actions</h2>
                <p class="text-xs text-slate-500 mb-6 relative z-10 font-medium">Glisse les 21 situations dans la cible pour analyser tes limites.</p>
                
                <div id="actions-bank" class="flex flex-wrap gap-2 relative z-10 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar">
                    <!-- Injecté par JS -->
                </div>
            </div>

            <div id="feedback-area" class="min-h-[140px] p-8 rounded-[32px] border-2 border-slate-100 bg-white transition-all flex flex-col items-center justify-center text-center shadow-sm">
                <p class="text-slate-400 italic text-sm font-medium" id="feedback-placeholder">Dépose une carte pour voir le conseil LS4YOU.</p>
                <div id="feedback-content" class="hidden">
                    <div id="feedback-icon" class="mb-3"></div>
                    <h4 id="feedback-title" class="text-sm font-black uppercase mb-1"></h4>
                    <p id="feedback-text" class="text-xs leading-relaxed text-slate-600 font-medium"></p>
                </div>
            </div>

            <div id="final-summary" class="hidden p-8 bg-ls-dark text-white rounded-[32px] animate-popIn">
                <h3 class="text-xl text-ls-yellow mb-4 uppercase">Bilan de ton profil</h3>
                <p class="text-sm opacity-80 leading-relaxed mb-4">
                    Bravo ! Tu as classé toutes les situations. Ce schéma montre que la **Zone de Dépassement** est ton moteur. Si une action est en "Panique", elle nécessite d'être découpée en plus petites étapes.
                </p>
                <button onclick="location.reload()" class="btn-primary bg-ls-red px-6 py-3 rounded-full text-[10px] font-black uppercase tracking-widest hover:scale-105 transition-all">Relancer le diagnostic</button>
            </div>
        </section>

    </main>

    <script>
        const ACTIONS = [
            // CONFORT (Maîtrise / Sécurité)
            { id: "c1", label: "Prendre son bus habituel", zone: "comfort", text: "Terrain connu. C'est sécurisant mais ça ne demande aucun nouvel effort d'adaptation." },
            { id: "c2", label: "S'habiller en jogging / tenue de ville", zone: "comfort", text: "Ta tenue de confort. Elle ne te met pas de pression, mais elle n'est pas toujours adaptée au milieu pro." },
            { id: "c3", label: "Discuter avec son conseiller référent", zone: "comfort", text: "Tu as confiance, le lien est établi. C'est une base solide pour oser la suite." },
            { id: "c4", label: "Répondre au SMS d'un ami", zone: "comfort", text: "Zéro risque social ici. La communication est fluide et naturelle." },
            { id: "c5", label: "Vérifier ses réseaux sociaux persos", zone: "comfort", text: "C'est une habitude qui rassure, mais qui peut t'enfermer dans une bulle passive." },
            { id: "c6", label: "Faire une tâche que l'on maîtrise déjà", zone: "comfort", text: "On se sent efficace, mais on ne développe aucune nouvelle compétence." },
            { id: "c7", label: "Rester dans son quartier", zone: "comfort", text: "Le sentiment de sécurité est maximal, mais les opportunités sont limitées." },

            // LEARNING (Croissance / Dépassement)
            { id: "l1", label: "Demander une immersion (PMSMP)", zone: "learning", text: "Un vrai défi ! Aller vers l'employeur pour découvrir son métier est le meilleur moyen de grandir." },
            { id: "l2", label: "Prendre la parole en atelier collectif", zone: "learning", text: "C'est inconfortable, mais c'est comme ça qu'on muscle son aisance à l'oral." },
            { id: "l3", label: "Passer un entretien blanc", zone: "learning", text: "L'exercice idéal : le stress est présent mais tu es dans un cadre protégé pour apprendre." },
            { id: "l4", label: "Porter une tenue pro (chemise/costume)", zone: "learning", text: "Changer d'image peut être déstabilisant, mais cela aide à endosser son rôle de futur pro." },
            { id: "l5", label: "Se rendre seul à un forum emploi", zone: "learning", text: "Mobilité + Démarche réseau. Un double dépassement qui booste l'autonomie." },
            { id: "l6", label: "Appeler un patron pour une relance", zone: "learning", text: "L'appréhension du téléphone est courante. En le faisant, tu casses une barrière majeure." },
            { id: "l7", label: "Utiliser un nouvel outil numérique", zone: "learning", text: "Se confronter à l'inconnu technique demande un effort de concentration gratifiant." },

            // PANIC (Stress / Inhibition)
            { id: "p1", label: "Passer un entretien sans préparation", zone: "panic", text: "Trop de stress tue la performance. Tu risques de perdre tes moyens inutilement." },
            { id: "p2", label: "Discours devant 200 chefs d'entreprise", zone: "panic", text: "La marche est trop haute pour un début. Cela peut provoquer un blocage durable." },
            { id: "p3", label: "Gérer un conflit client agressif seul", zone: "panic", text: "Sans formation, cette situation est violente et peut dégoûter d'un métier." },
            { id: "p4", label: "Partir bosser à l'étranger sans langue", zone: "panic", text: "L'isolement total peut mener au burn-out immédiat. Il faut se préparer avant." },
            { id: "p5", label: "Prendre une responsabilité de direction", zone: "panic", text: "Avoir trop de responsabilités trop tôt génère une anxiété qui empêche de bien travailler." },
            { id: "p6", label: "Réparer une machine complexe sans aide", zone: "panic", text: "Le risque d'erreur est trop grand, ce qui renforce le sentiment d'incompétence." },
            { id: "p7", label: "Travailler 70h/semaine dès le début", zone: "panic", text: "Le corps et l'esprit saturent. On n'apprend plus rien, on survit." }
        ];

        let placedCount = 0;

        function init() {
            const bank = document.getElementById('actions-bank');
            // Mélanger les actions pour ne pas avoir de suites évidentes
            const shuffledActions = [...ACTIONS].sort(() => Math.random() - 0.5);
            
            shuffledActions.forEach(action => {
                const card = document.createElement('div');
                card.id = action.id;
                card.className = "action-card bg-white border-2 border-slate-200 px-3 py-2 rounded-xl text-[10px] font-bold shadow-sm hover:border-ls-turquoise flex-grow-0 shrink-0";
                card.draggable = true;
                card.innerText = action.label;
                card.addEventListener('dragstart', dragStart);
                card.addEventListener('dragend', dragEnd);
                card.addEventListener('click', () => selectCard(action));
                bank.appendChild(card);
            });
            lucide.createIcons();
        }

        function dragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.id);
            setTimeout(() => e.target.classList.add('dragging'), 0);
        }

        function dragEnd(e) {
            e.target.classList.remove('dragging');
        }

        function handleDragOver(e) {
            e.preventDefault();
            e.currentTarget.classList.add('active-drop');
        }

        function handleDragLeave(e) {
            e.currentTarget.classList.remove('active-drop');
        }

        function handleDrop(e, targetZoneId) {
            e.preventDefault();
            const actionId = e.dataTransfer.getData('text/plain');
            const action = ACTIONS.find(a => a.id === actionId);
            const dropZone = e.currentTarget;
            dropZone.classList.remove('active-drop');

            if (action) {
                processSelection(action, targetZoneId);
            }
        }

        function processSelection(action, targetZoneId) {
            const feedbackArea = document.getElementById('feedback-area');
            const placeholder = document.getElementById('feedback-placeholder');
            const content = document.getElementById('feedback-content');
            const cardInBank = document.getElementById(action.id);

            placeholder.classList.add('hidden');
            content.classList.remove('hidden');

            if (action.zone === targetZoneId) {
                // Succès
                feedbackArea.style.borderColor = targetZoneId === 'comfort' ? 'var(--ls-yellow)' : (targetZoneId === 'learning' ? 'var(--ls-turquoise)' : 'var(--ls-red)');
                document.getElementById('feedback-title').innerText = "Bon Placement !";
                document.getElementById('feedback-title').style.color = 'var(--ls-dark)';
                document.getElementById('feedback-text').innerText = action.text;
                
                if (cardInBank) {
                    cardInBank.classList.add('hidden');
                    addVisualMarker(action, targetZoneId);
                    placedCount++;
                    updateProgress();
                }
            } else {
                // Erreur pédagogique
                feedbackArea.style.borderColor = '#fee2e2';
                document.getElementById('feedback-title').innerText = "Réfléchis encore...";
                document.getElementById('feedback-title').style.color = 'var(--ls-red)';
                document.getElementById('feedback-text').innerText = "Est-ce vraiment là que cette situation se situe ? Relis bien les définitions des zones.";
            }
        }

        function addVisualMarker(action, zoneId) {
            const zoneEl = document.getElementById(zoneId);
            const marker = document.createElement('div');
            marker.className = "placed-item shadow-md z-50";
            marker.innerText = action.label;
            
            // Calcul d'une position radiale pour bien répartir les étiquettes
            const angle = Math.random() * Math.PI * 2;
            let radius;
            if (zoneId === 'comfort') radius = Math.random() * 50;
            else if (zoneId === 'learning') radius = 80 + Math.random() * 50;
            else radius = 180 + Math.random() * 50;
            
            marker.style.left = `calc(50% + ${Math.cos(angle) * radius}px - 50px)`;
            marker.style.top = `calc(50% + ${Math.sin(angle) * radius}px - 10px)`;
            
            zoneEl.appendChild(marker);
        }

        function updateProgress() {
            const percent = (placedCount / ACTIONS.length) * 100;
            document.getElementById('progress-bar').style.width = percent + '%';
            
            if (placedCount === ACTIONS.length) {
                document.getElementById('final-summary').classList.remove('hidden');
                document.getElementById('actions-bank').parentElement.classList.add('hidden');
            }
        }

        // Tactile
        let selectedAction = null;
        function selectCard(action) {
            selectedAction = action;
            document.querySelectorAll('.action-card').forEach(c => c.style.borderColor = '#E2E8F0');
            document.getElementById(action.id).style.borderColor = 'var(--ls-turquoise)';
        }

        document.querySelectorAll('.zone').forEach(zone => {
            zone.addEventListener('click', () => {
                if (selectedAction) {
                    processSelection(selectedAction, zone.id);
                    selectedAction = null;
                }
            });
        });

        window.onload = init;
    </script>
</body>
</html>
